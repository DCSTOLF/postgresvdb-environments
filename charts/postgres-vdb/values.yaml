global:
  # Source database configuration
  sourceDatabase: "10.0.1.54:largedb"
  postgresImage: "postgres:16.9"
  storageClass: "de-fs-storage"
  
  # Default resource limits
  defaultResources:
    requests:
      memory: "1Gi"
      cpu: "500m"
    limits:
      memory: "2Gi"
      cpu: "1"

# VDB configuration
vdb:
  enabled: true
  port: 5432
  mountPath: "/mnt/postgres"
  ownershipSpec: "999:999"
  mode: "Primary"
  errorBackoffPeriod: "5m"
  
  # Database credentials (override per environment)
  database:
    name: "postgres"
    user: "postgres"
    password: "changeme123"
  
  # Resource configuration
  resources:
    requests:
      memory: "1Gi"
      cpu: "500m"
    limits:
      memory: "2Gi"
      cpu: "1"
  
  # Lifecycle hooks
  hooks: []
  
  # PostgreSQL configuration
  postgresConfig:
    - name: "shared_buffers"
      value: "256MB"
    - name: "max_connections"
      value: "100"
    - name: "effective_cache_size"
      value: "512MB"
    - name: "maintenance_work_mem"
      value: "128MB"
    - name: "checkpoint_completion_target"
      value: "0.9"
    - name: "wal_buffers"
      value: "16MB"
    - name: "default_statistics_target"
      value: "100"
    - name: "random_page_cost"
      value: "1.1"
    - name: "effective_io_concurrency"
      value: "200"
    - name: "work_mem"
      value: "10MB"
    - name: "min_wal_size"
      value: "1GB"
    - name: "max_wal_size"
      value: "4GB"

# Operator configuration
operator:
  enabled: true
  image:
    repository: "delphix/postgres-vdb-operator"
    tag: "latest"
    pullPolicy: "IfNotPresent"
  
# Monitoring configuration
monitoring:
  enabled: false
  serviceMonitor:
    enabled: false
    interval: "30s"
    scrapeTimeout: "10s"

# Service configuration
service:
  type: ClusterIP
  port: 5432
  annotations: {}

# Security context
securityContext:
  runAsUser: 999
  runAsGroup: 999
  fsGroup: 999

# Pod annotations
podAnnotations: {}

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity
affinity: {}

# Sync wave for ArgoCD
syncWave: "0"

# Environment label (override per environment)
environment: "development"
